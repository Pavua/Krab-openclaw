# ü¶Ä Krab v5.0 Singularity ‚Äî –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üìñ –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞
**Krab** ‚Äî —ç—Ç–æ –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π Telegram AI Userbot, –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ macOS (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è Apple Silicon M4 Max) –∏ –≥–ª—É–±–æ–∫—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –∏ –æ–±–ª–∞—á–Ω–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π.

–í–µ—Ä—Å–∏—è **v5.0 Singularity** –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –±–æ—Ç–∞ –∏–∑ –ø—Ä–æ—Å—Ç–æ–≥–æ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ –≤ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è macOS, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ —Å–∞–º–æ—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞.

---

## üõ† –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (v5.0)

### 1. –Ø–¥—Ä–æ (src/core)
- `model_manager.py`: –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π —Ä–æ—É—Ç–µ—Ä. –í—ã–±–∏—Ä–∞–µ—Ç –º–µ–∂–¥—É Cloud Gemini (2.0 Flash/Pro) –∏ Local (LM Studio/Ollama). –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—É—é RAM –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π –º–æ–¥–µ–ª–µ–π.
- `rag_engine.py`: –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π ChromaDB v2.0. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç TTL (–≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Ñ–∞–∫—Ç–æ–≤), –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –æ—á–∏—Å—Ç–∫—É.
- `tool_handler.py`: –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤. –ü–æ–Ω–∏–º–∞–µ—Ç –Ω–∞–º–µ—Ä–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç –ø–æ–∏—Å–∫, –ø–∞–º—è—Ç—å –∏–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π.
- `scheduler.py`: –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á. –ë–µ–∫–∞–ø—ã, –¥–∞–π–¥–∂–µ—Å—Ç—ã –∏ –æ—á–∏—Å—Ç–∫–∞ RAG.

### 2. –ú–æ–¥—É–ª–∏ –≤–æ—Å–ø—Ä–∏—è—Ç–∏—è (src/modules)
- `perceptor.py`: "–ì–ª–∞–∑–∞ –∏ –£—à–∏".
  - **Audio**: STT —á–µ—Ä–µ–∑ MLX Whisper (–ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ Neural Engine).
  - **Vision**: –ê–Ω–∞–ª–∏–∑ —Ñ–æ—Ç–æ —á–µ—Ä–µ–∑ Gemini Pro Vision.
  - **Video**: –ù–æ–≤–∏–Ω–∫–∞ v5.0! –ê–Ω–∞–ª–∏–∑ –≤–∏–¥–µ–æ-–∫—Ä—É–∂–∫–æ–≤ –∏ —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ Gemini 2.0 Flash.

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å macOS (src/utils)
- `mac_bridge.py`: –ú–æ—Å—Ç –∫ macOS —á–µ—Ä–µ–∑ AppleScript. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –≥—Ä–æ–º–∫–æ—Å—Ç—å, –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏.
- `system_monitor.py`: –ì–ª—É–±–æ–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (psutil + Apple Silicon GPU/Temp).
- `doc_parser.py`: –ü–æ–Ω–∏–º–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç—ã PDF, DOXC, XLSX, CSV, TXT.

### 4. –ê–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å –∏ –≠–≤–æ–ª—é—Ü–∏—è
- `self_refactor.py`: –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –º–æ–¥—É–ª—å. –ë–æ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–≤–æ–π `.py` –∫–æ–¥, –∏—â–µ—Ç —É—è–∑–≤–∏–º–æ—Å—Ç–∏ –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —É–ª—É—á—à–µ–Ω–∏—è.

---

## üë®‚Äçüíª –†–µ–∂–∏–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (Commands)

### –°–∏—Å—Ç–µ–º–Ω—ã–µ (Owner/Admin):
- `!sysinfo`: –¢–µ–∫—É—â–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, GPU, RAM.
- `!mac <action>`: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ macOS.
- `!rag stats/cleanup`: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é.
- `!refactor audit`: –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞.
- `!sh <cmd>`: –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ —Ç–µ—Ä–º–∏–Ω–∞–ª—É.

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ:
- `!smart <–∑–∞–¥–∞—á–∞>`: –ê–≥–µ–Ω—Ç–Ω—ã–π —Ä–µ–∂–∏–º —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º.
- `!think <–≤–æ–ø—Ä–æ—Å>`: –†–µ–∂–∏–º –≥–ª—É–±–æ–∫–∏—Ö —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏–π.
- `!personality`: –°–º–µ–Ω–∞ –∞–º–ø–ª—É–∞ –±–æ—Ç–∞ (–ü–∏—Ä–∞—Ç, –ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç, –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç).
- `!summary`: –ö—Ä–∞—Ç–∫–∏–π –ø–µ—Ä–µ—Å–∫–∞–∑ —á–∞—Ç–∞.

---

## üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É (macOS)
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã Python 3.12+ –∏ ffmpeg.
2. –§–∞–π–ª `run_krab.command` –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ –¥–≤–æ–π–Ω—ã–º –∫–ª–∏–∫–æ–º.
3. –õ–æ–∫–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏ —Ç—Ä–µ–±—É—é—Ç –∑–∞–ø—É—â–µ–Ω–Ω–æ–≥–æ **LM Studio** –∏–ª–∏ **Ollama**.

## üõ° –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **Owner-Only**: –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (sh, mac, refactor) –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª—å—Ü—É (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ telegram_id –∏ username).
- **Rate Limit**: –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞ –∏ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ API.
- **Privacy**: –ö–æ–Ω—Ç–µ–∫—Å—Ç —à–∏—Ñ—Ä—É–µ—Ç—Å—è –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î (Black Box).

---
*–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è Krab v5.0 Singularity (–§–µ–≤—Ä–∞–ª—å 2026).*
