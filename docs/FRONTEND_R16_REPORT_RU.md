# –û—Ç—á–µ—Ç –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Frontend R16 (Long Sprint)

## üéØ –¶–µ–ª—å —Å–ø—Ä–∏–Ω—Ç–∞
–£–ª—É—á—à–∏—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –º–µ—Ç—Ä–∏–∫ —Ä–æ—É—Ç–µ—Ä–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Krab Web Panel V2, –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π UX `Cloud Routing Card` –∏ `Queue Stability Card`, –∞ —Ç–∞–∫–∂–µ –¥–æ–±–∞–≤–∏—Ç—å —É—Ç–∏–ª–∏—Ç—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ (Cloud Probe).

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. Cloud Routing Card
- –î–æ–±–∞–≤–ª–µ–Ω –±–ª–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –æ–±–ª–∞—á–Ω–æ–≥–æ —Ä–æ—É—Ç–∏–Ω–≥–∞ (Active Tier, Fallback Status, Reason, Provider Error Code).
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Ü–≤–µ—Ç–æ–≤–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ (Auto/Local/Cloud/Warning).
- –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º–∏ `/api/stats` –∏ `/api/ops/usage`.

### 2. Queue Stability Card
- –î–æ–±–∞–≤–ª–µ–Ω –±–ª–æ–∫ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏ –æ—á–µ—Ä–µ–¥–∏ –∞–≤—Ç–æ–æ–±—Ä–∞–±–æ—Ç–∫–∏ (Queue Depth, Active Tasks, Oldest Age, Stuck Count, Avg Time).
- –í–Ω–µ–¥—Ä–µ–Ω –ø—É–ª—å—Å–∏—Ä—É—é—â–∏–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è (Pulse OK/Warn). –ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∑–∞—Å—Ç—Ä—è–≤—à–∏—Ö –∑–∞–¥–∞—á –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∂–µ–ª—Ç—ã–º.
- –î–∞–Ω–Ω—ã–µ –±–µ—Ä—É—Ç—Å—è –∏–∑ `/api/queue`.

### 3. Control Center UX
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "Cloud Probe" —Ä—è–¥–æ–º —Å "Refresh Status". –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –æ–Ω–∞ –æ–ø—Ä–∞—à–∏–≤–∞–µ—Ç `/api/openclaw/cloud` –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –æ–±–ª–∞—á–Ω–æ–≥–æ —à–ª—é–∑–∞.
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `showToast` –≤ `index.html` –∏ `index_redesign.html` –¥–ª—è —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤—Å–ø–ª—ã–≤–∞—é—â–∏—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π. –ö–Ω–æ–ø–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –∑–∞–ø—Ä–æ—Å–∞, –ø–æ–∫–∞–∑—ã–≤–∞—è loading spinner.

### 4. –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è
- –í–Ω–µ—Å–µ–Ω—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ `style` HTML –∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã `flex-direction: column` –¥–ª—è —ç–∫—Ä–∞–Ω–æ–≤ `<768px`.
- –ö–∞—Ä—Ç–æ—á–∫–∏ –∞–¥–∞–ø—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ–¥ —É–∑–∫–∏–µ —ç–∫—Ä–∞–Ω—ã —Å–º–∞—Ä—Ç—Ñ–æ–Ω–æ–≤ –±–µ–∑ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–∞.
- –í—Å–µ grid-–∫–æ–ª–æ–Ω–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å—Ö–ª–æ–ø—ã–≤–∞—é—Ç—Å—è –≤ –æ–¥–Ω—É (`grid-template-columns: 1fr`).

### 5. –ü–∞—Ä–∏—Ç–µ—Ç –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤
- ID —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `opsCloudActiveTier`, `opsQueueLength`, `ocCloudProbeBtn`) —É—Å–ø–µ—à–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –º–µ–∂–¥—É `src/web/index.html` –∏ `src/web/prototypes/nano/index_redesign.html`.

---

## üõ† –í–∞–ª–∏–¥–∞—Ü–∏—è
- **Web Prototype Compatibility:** –°–∫—Ä–∏–ø—Ç `validate_web_prototype_compat.py` –≤—ã–¥–∞–µ—Ç –∑–µ–ª–µ–Ω—ã–π —Å–≤–µ—Ç (0 missing IDs).
- **Workstream Overlap:** –°–∫—Ä–∏–ø—Ç `check_workstream_overlap.py` –Ω–µ –≤—ã—è–≤–∏–ª –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ (0 overlaps).
- **Pre-Release Smoke Test:** –í—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã `pre_release_smoke.py` –ø—Ä–æ–π–¥–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ (–±—ã–ª–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ –≤ Unit Test: `test_model_router_phase_d.py`, –≥–¥–µ –æ–∂–∏–¥–∞–ª–æ—Å—å `network_error` –≤–º–µ—Å—Ç–æ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω–æ–≥–æ –≤ R15 –∑–Ω–∞—á–µ–Ω–∏—è `network`). 
- **Browser Visual Verification:** –ü—Ä–æ–∏–∑–≤–µ–¥–µ–Ω Agent-driven –ø—Ä–æ–≥–æ–Ω —Å –æ—Ç–∫—Ä—ã—Ç–∏–µ–º UI —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø—Ä–∏ —Ä–∞–∑–Ω—ã—Ö viewport.

---

## üîÆ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ 
- –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ R17 (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è).
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤ `queue_manager` –Ω–∞ –ø—Ä–æ–¥–µ –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è —á–∞—Å—Ç—ã—Ö "–∑–∞—Å—Ç—Ä–µ–≤–∞–Ω–∏–π".
