# Чек-лист интеграции R2 (Frontend V2)

Данный чек-лист предназначен для разработчика или агента, производящего релиз (интеграцию) нового интерфейса `index_redesign.html` в рабочую среду Krab Gateway.


## 1. Подготовка и валидация


- [x] Проверить наличие всех необходимых DOM IDs в `index_redesign.html` с помощью `scripts/validate_web_prototype_compat.command`.
- [x] Убедиться, что в HTML-разметке прототипов нет заглушек/маркеров Mock-данных (кроме дизайна Ops Center и Transcriber).
- [x] Перенести production JS-логику из `src/web/index.html` внутрь секции `<script>` файла `src/web/prototypes/nano/index_redesign.html`.



## 2. Развертывание (Deployment)


- [ ] Сделать резервную копию `src/web/index.html` (например, переименовать в `index_legacy.html`).
- [ ] Переименовать `src/web/prototypes/nano/index_redesign.html` в `src/web/index.html`.
- [ ] Перезапустить Krab API (сервер) для применения статики (в зависимости от серверного кэширования, достаточно просто обновить страницу, но рестарт надежнее).



## 3. Функциональное тестирование (Smoke Tests)


- [ ] **Data Fetch:** Проверить, что индикаторы здоровья (OpenClaw, Local LM и др.) отображаются не пустыми (`—`), а загружают реальный статус (ON/OFF).
- [ ] **Stats Update:** Дождаться автоматического обновления логов Ops Alerts и Black Box статистики (интервал 8 сек). Убедиться, что нет ошибок в консоли разработчика браузера (F12).
- [ ] **Model Catalog:** Открыть селектбоксы в "AI Assistant Interface" и убедиться, что они заполнены списком моделей и профилями с бэкенда.
- [ ] **Assistant Query:** Ввести текстовый запрос "Тест" в текстовое поле и нажать "Run Assistant". Проверить ответ.
- [ ] **Action:** Нажать кнопку "Preflight Plan" и убедиться в получении плана без ошибок.
- [ ] **Feedback:** Дать оценку 5 (любому запросу) через блок Submit Feedback и проверить, что статус обновлен успешно.



## 4. Визуальное тестирование


- [ ] Убедиться, что большой объем вывода в Assistant Output скроллится внутри своего блока (`overflow-y: auto`), а не ломает общую высоту страницы.
- [ ] Убедиться, что верстка корректно сжимается на мобильных разрешениях (до 900px, карточки переходят в одну колонку).
- [ ] Убедиться, что цвета и градиенты кнопок и текста (например "Krab Web Panel V2") применяются и отображаются корректно.



## 5. Завершение релиза


- [ ] Документировать результаты Smoke Tests (сделать скриншоты при необходимости).
- [ ] Очистить ветку или директорию от временных файлов, если релиз признан успешным.

