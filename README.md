
# ü¶Ä –ö—Ä–∞–± (Krab) v6.0 ‚Äî Elite AI Userbot

**–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç, –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤ Telegram-–∞–∫–∫–∞—É–Ω—Ç.**
–†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –±–∞–∑–µ LM Studio (Local), Google Gemini (Cloud) –∏ OpenClaw Gateway.
–ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –∞–≥–µ–Ω—Ç, –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ—Å—Ç—å.

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (v7.6 OpenClaw Edition)

1. **–ê–∫—Ç–∏–≤–∞—Ü–∏—è**: `source .venv/bin/activate`
2. **–ó–∞–ø—É—Å–∫**: `./start_krab.command`
3. **Web-–ø–∞–Ω–µ–ª—å**: –æ—Ç–∫—Ä–æ–π `http://127.0.0.1:8080` (–∏–ª–∏ `!web` –≤ Telegram)
4. **One-click (macOS)**: –¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –ø–æ `Start Dashboard.command`

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ó–∞–ø—É—â–µ–Ω–Ω—ã–π **OpenClaw Gateway** (–Ω–∞ –ø–æ—Ä—Ç—É 8000 –∏–ª–∏ –¥—Ä—É–≥–æ–º).
- –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π `.env` (—Å–º. –Ω–∏–∂–µ).

---

## üî• –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üß† OpenClaw Intelligence (New!)
- **Central Brain**: –í—Å–µ —Å–ª–æ–∂–Ω—ã–µ AI-–∑–∞–¥–∞—á–∏ –¥–µ–ª–µ–≥–∏—Ä—É—é—Ç—Å—è –≤ OpenClaw Gateway.
- **Tools**: –ü–æ–∏—Å–∫, –Ω–æ–≤–æ—Å—Ç–∏ –∏ –∞–Ω–∞–ª–∏–∑ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ OpenClaw Tools.
- **Thin Client**: Krab –≤—ã—Å—Ç—É–ø–∞–µ—Ç –∫–∞–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ Telegram, –∞ –º–æ–∑–≥ ‚Äî –≤ OpenClaw.
- **Web Policy**: `web_search/web_fetch` —á–µ—Ä–µ–∑ OpenClaw –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é; –ª–æ–∫–∞–ª—å–Ω—ã–π BrowserAgent —Ç–æ–ª—å–∫–æ fallback –∏ –ø–æ —Ñ–ª–∞–≥—É `ENABLE_LOCAL_BROWSER=1`.
- **Web Panel API**: `/api/stats`, `/api/health`, `/api/ecosystem/health`, `/api/ecosystem/health/export`, `/api/links`, `/api/model/recommend`, `/api/model/preflight`, `/api/model/feedback`, `/api/ops/usage`, `/api/ops/alerts`, `/api/ops/history`, `/api/ops/ack/{code}`, `/api/ops/cost-report`, `/api/ops/report`, `/api/ops/report/export`, `/api/ops/bundle`, `/api/ops/bundle/export`, `/api/ops/maintenance/prune`, `/api/openclaw/report`, `/api/openclaw/deep-check`, `/api/openclaw/remediation-plan`, `/api/openclaw/browser-smoke`, `/api/provisioning/*`.
- **Web-native Assistant**: –º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ö—Ä–∞–±–æ–º –Ω–∞–ø—Ä—è–º—É—é –∏–∑ –ø–∞–Ω–µ–ª–∏ (–±–µ–∑ Telegram) —á–µ—Ä–µ–∑ `/api/assistant/query`.

### üß≠ Model Routing (Phase D)
- –ü—Ä–æ—Ñ–∏–ª–∏ –∑–∞–¥–∞—á: `chat`, `moderation`, `code`, `security`, `infra`, `review`, `communication`.
- –°—Ç—Ä–∞—Ç–µ–≥–∏—è `free-first hybrid`: –ª–æ–∫–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏ –≤ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–µ –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–¥–∞—á, –æ–±–ª–∞–∫–æ –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö.
- –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –ª–æ–∫–∞–ª–æ–∫: `1 heavy + 1 light`, heavy+heavy –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ.
- –ü–∞–º—è—Ç—å –≤—ã–±–æ—Ä–∞ –º–æ–¥–µ–ª–µ–π: —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø–æ—Ö–æ–∂–∏—Ö –∑–∞–¥–∞—á –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.
- Guardrails: soft-cap –ø–æ –æ–±–ª–∞—á–Ω—ã–º –≤—ã–∑–æ–≤–∞–º (`CLOUD_SOFT_CAP_CALLS`) + –±—é–¥–∂–µ—Ç–Ω—ã–µ –∞–ª–µ—Ä—Ç—ã (`CLOUD_MONTHLY_BUDGET_USD`, `MONTHLY_CALLS_FORECAST`).
- Preflight –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º: `!model preflight [task_type] <–∑–∞–¥–∞—á–∞> [--confirm-expensive]` –∏ `POST /api/model/preflight`.
- Adaptive Feedback Loop: `!model feedback <1-5> [note]`, `!model feedback <1-5> <profile> <model> [channel] [note]`, `!model stats [profile]`.
- Quality-aware —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏: —Ä–æ—É—Ç–µ—Ä —É—á–∏—Ç—ã–≤–∞–µ—Ç user-feedback –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –º–æ–¥–µ–ª–µ–π.

### üé≠ –ü–µ—Ä—Å–æ–Ω—ã
- `!personality list` ‚Äî —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–æ–ª–µ–π
- `!personality coder` ‚Äî Python/JS —Å–µ–Ω—å–æ—Ä
- `!personality analyst` ‚Äî –ê–Ω–∞–ª–∏—Ç–∏–∫ –¥–∞–Ω–Ω—ã—Ö
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Å–º–µ–Ω–∞ –ª–∏—á–Ω–æ—Å—Ç–∏ "–Ω–∞ –ª–µ—Ç—É"

### üåê –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (via OpenClaw)
- `!scout <–∑–∞–ø—Ä–æ—Å>` ‚Äî Deep Research (–≤–µ–±-–ø–æ–∏—Å–∫ + AI-–∞–Ω–∞–ª–∏—Ç–∏–∫–∞)
- `!translate <—Ç–µ–∫—Å—Ç>` ‚Äî –ê–≤—Ç–æ-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ –∏ –ø–µ—Ä–µ–≤–æ–¥
- `!say <—Ç–µ–∫—Å—Ç>` ‚Äî –û–∑–≤—É—á–∫–∞ —Ç–µ–∫—Å—Ç–∞ (TTS)
- `!news <—Ç–µ–º–∞>` ‚Äî –°–≤–æ–¥–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π –ø–æ —Ç–µ–º–µ
- `!see` ‚Äî –°–∫—Ä–∏–Ω—à–æ—Ç —ç–∫—Ä–∞–Ω–∞ + AI-–æ–ø–∏—Å–∞–Ω–∏–µ
- `!callstart [auto_to_ru|ru_es_duplex] [mic|system_audio|mic_plus_system] [on|off] [local|cloud|hybrid]` ‚Äî —Å—Ç–∞—Ä—Ç –∑–≤–æ–Ω–∫–æ–≤–æ–π voice-—Å–µ—Å—Å–∏–∏
- `!callstatus` ‚Äî —Å—Ç–∞—Ç—É—Å –∞–∫—Ç–∏–≤–Ω–æ–π voice-—Å–µ—Å—Å–∏–∏
- `!callstop` ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–π voice-—Å–µ—Å—Å–∏–∏
- `!notify on|off` ‚Äî –ø–æ–ª–∏—Ç–∏–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞
- `!calllang auto_to_ru|ru_es_duplex` ‚Äî —Å–º–µ–Ω–∞ —è–∑—ã–∫–∞/—Ä–µ–∂–∏–º–∞ –≤ —Å–µ—Å—Å–∏–∏
- `!calldiag` ‚Äî –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π —Å—Ä–µ–∑ (latency/counters/fallback/cache)
- `!callsummary [max_items]` ‚Äî –∫—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞ –∑–≤–æ–Ω–∫–∞ –∏ —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á
- `!callphrase <—Ç–µ–∫—Å—Ç> [ru->es|es->ru]` ‚Äî –±—ã—Å—Ç—Ä–∞—è —Ä–µ–ø–ª–∏–∫–∞ —Å –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–º –ø–µ—Ä–µ–≤–æ–¥–æ–º/–æ–∑–≤—É—á–∫–æ–π
- `!callphrases [ru->es|es->ru]` ‚Äî –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –±—ã—Å—Ç—Ä—ã—Ö —Ñ—Ä–∞–∑
- `!callwhy` ‚Äî explain-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–∏—á–∏–Ω—ã –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ø–µ—Ä–µ–≤–æ–¥–∞
- `!calltune [adaptive|low|stable] [latency_ms] [vad] ‚Äî runtime —Ç—é–Ω–∏–Ω–≥ –±—É—Ñ–µ—Ä–∞/VAD
- `!summaryx <X> [target] [--focus "—Ç–µ–º–∞"]` ‚Äî summary —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ Telegram-—á–∞—Ç–∞
- `!chatid` ‚Äî ID/—Ç–∏–ø/–Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —á–∞—Ç–∞

### üß© Provisioning (Phase E)
- `!provision templates [agent|skill]` ‚Äî —à–∞–±–ª–æ–Ω—ã —Ä–æ–ª–µ–π.
- `!provision draft <agent|skill> <name> <role> <–æ–ø–∏—Å–∞–Ω–∏–µ>` ‚Äî —Å–æ–∑–¥–∞—Ç—å draft.
- `!provision preview <draft_id>` ‚Äî diff –ø–µ—Ä–µ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º.
- `!provision apply <draft_id> confirm` ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω—ã–π apply –≤ –∫–∞—Ç–∞–ª–æ–≥.
- –ö–∞—Ç–∞–ª–æ–≥–∏: `config/agents_catalog.yaml`, `config/skills_catalog.yaml`.

### üõ† –°–∏—Å—Ç–µ–º–∞
- `!status` ‚Äî –ó–¥–æ—Ä–æ–≤—å–µ —Å–∏—Å—Ç–µ–º (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏)
- `!diagnose` ‚Äî –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (CPU, RAM, AI, RAG)
- `!web` / `!web health` ‚Äî URL –ø–∞–Ω–µ–ª–∏ –∏ health —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã
- `!ops` ‚Äî usage/alerts –ø–æ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –º–æ–¥–µ–ª–µ–π –∏ cloud/local —Ä–∞—Å—Ö–æ–¥—É
- `!ops history [N]` ‚Äî –∏—Å—Ç–æ—Ä–∏—è ops-—Å–Ω–∏–º–∫–æ–≤
- `!ops cost [monthly_calls]` ‚Äî cost report (–æ—Ü–µ–Ω–∫–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤)
- `!ops report [N]` ‚Äî –ø–æ–ª–Ω—ã–π ops-report
- `!ops export [N]` ‚Äî —ç–∫—Å–ø–æ—Ä—Ç ops-report –≤ JSON
- `!ops bundle [N]` ‚Äî ops-report + health snapshot –≤ –æ–¥–Ω–æ–º JSON
- `!ops prune [days] [keep]` ‚Äî –æ—á–∏—Å—Ç–∫–∞ ops history –ø–æ retention
- `!ops ack <code> [note]` ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å alert
- `!ops unack <code>` ‚Äî —Å–Ω—è—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ alert
- `!openclaw [status|auth|browser|tools|deep|plan|smoke]` ‚Äî –≥–ª—É–±–æ–∫–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ OpenClaw (–≤–∫–ª—é—á–∞—è auth readiness, remediation –∏ browser smoke)
- `scripts/health_dashboard.command` ‚Äî –µ–¥–∏–Ω—ã–π health JSON –ø–æ —Ü–µ–ø–æ—á–∫–µ `cloud -> local fallback -> voice -> krab ear`.

### üåê Web-first —Ä–µ–∂–∏–º (–±–µ–∑ Telegram)
- –í –ø–∞–Ω–µ–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω –±–ª–æ–∫ **Web Assistant** (prompt/task_type/RAG).
- –í –±–ª–æ–∫–µ Assistant –µ—Å—Ç—å **Preflight** –∫–Ω–æ–ø–∫–∞ (–ø—Ä–æ–≤–µ—Ä–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∞ –¥–æ –∑–∞–ø—É—Å–∫–∞).
- API:
  - `GET /api/assistant/capabilities`
  - `POST /api/assistant/query`
  - `POST /api/model/preflight`
  - `GET /api/model/feedback`
  - `POST /api/model/feedback`
- –ï—Å–ª–∏ –∑–∞–¥–∞–Ω `WEB_API_KEY`, –∑–∞–ø—Ä–æ—Å—ã –≤ write-endpoints –∏–¥—É—Ç —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º `X-Krab-Web-Key`.
- –î–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∞: `WEB_ASSISTANT_RATE_LIMIT_PER_MIN` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 30 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞).
- –î–ª—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö write-–∑–∞–ø—Ä–æ—Å–æ–≤: `X-Idempotency-Key` + `WEB_IDEMPOTENCY_TTL_SEC` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 300 —Å–µ–∫).

### ü§ù –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (Codex + Antigravity)
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ ownership: `config/workstreams/codex_paths.txt` –∏ `config/workstreams/antigravity_paths.txt`.
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ø–µ—Ä–µ–¥ merge: `scripts/check_workstream_overlap.command`.
- –ü–æ–¥—Ä–æ–±–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª: `docs/parallel_execution_split_v8.md`.
- –ë—ã—Å—Ç—Ä—ã–π –ø–∞–∫–µ—Ç –∑–∞–ø—É—Å–∫–∞ Antigravity:
  - `docs/ANTIGRAVITY_START_HERE.md`
  - `docs/ANTIGRAVITY_WORKSTREAM_PROMPT.md`
  - `docs/ANTIGRAVITY_BACKLOG_V8.md`
  - `docs/ANTIGRAVITY_NEXT_SPRINTS_V8.md`
  - `docs/ANTIGRAVITY_REMAINING_V8.md`
  - `scripts/start_antigravity_parallel.command`
- Merge guard –ø–µ—Ä–µ–¥ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π:
  - `scripts/merge_guard.command`
  - `python scripts/merge_guard.py --full`
- One-click –ø–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:
  - `scripts/run_v8_full_validation.command`
- One-click —ç–∫—Å–ø–æ—Ä—Ç Ops –æ—Ç—á–µ—Ç–∞:
  - `scripts/export_ops_report.command`
- One-click ops bundle (report + health):
  - `scripts/generate_ops_bundle.command`
- One-click live E2E (3 –ø—Ä–æ–µ–∫—Ç–∞):
  - `scripts/run_live_ecosystem_e2e.command`
  - `docs/E2E_THREE_PROJECTS.md`
- Voice schema + PSTN/iOS smoke:
  - `docs/VOICE_EVENT_SCHEMA.md`
  - `docs/IOS_PSTN_SMOKE.md`
  - `scripts/check_voice_event_schema.command`
- `!config` ‚Äî –ì–æ—Ä—è—á–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- `!sh <cmd>` ‚Äî –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ shell-–∫–æ–º–∞–Ω–¥ (Owner only)
- `!commit <msg>` ‚Äî Git push –≤ GitHub
- `!panic` ‚Äî Stealth Mode (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–æ—Å—Ç—É–ø–∞)

### ‚è∞ –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- `!remind 30m –û–±–µ–¥` ‚Äî –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
- `!timer 5m` ‚Äî –ë—ã—Å—Ç—Ä—ã–π —Ç–∞–π–º–µ—Ä
- `!mac` ‚Äî –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ macOS (–≥—Ä–æ–º–∫–æ—Å—Ç—å, –º—É–∑—ã–∫–∞, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞)

---

## üìö –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| **AI** | |
| `!think <–≤–æ–ø—Ä–æ—Å> [--confirm-expensive]` | –ì–ª—É–±–æ–∫–∏–π reasoning (chain-of-thought) |
| `!smart <–∑–∞–¥–∞—á–∞> [--confirm-expensive]` | –ê–≥–µ–Ω—Ç–Ω—ã–π –≤–æ—Ä–∫—Ñ–ª–æ—É —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ |
| `!code <–∑–∞–¥–∞—á–∞> [--confirm-expensive]` | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ |
| `!learn <—Ç–µ–∫—Å—Ç>` | –ó–∞–ø–æ–º–Ω–∏—Ç—å –≤ RAG-–ø–∞–º—è—Ç—å |
| `!exec <–∫–æ–¥>` | –í—ã–ø–æ–ª–Ω–∏—Ç—å Python (Owner) |
| **–ú–µ–¥–∏–∞** | |
| üì∑ –§–æ—Ç–æ | –ê–≤—Ç–æ-–∞–Ω–∞–ª–∏–∑ —á–µ—Ä–µ–∑ Vision AI |
| üé§ –ì–æ–ª–æ—Å–æ–≤–æ–µ | –ê–≤—Ç–æ-—Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—è (MLX Whisper) |
| üìé –î–æ–∫—É–º–µ–Ω—Ç | –ü–∞—Ä—Å–∏–Ω–≥ PDF/DOCX + –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è RAG |
| üé¨ –í–∏–¥–µ–æ | –ê–Ω–∞–ª–∏–∑ —á–µ—Ä–µ–∑ Gemini Video API |
| **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã** | |
| `!scout <q>` | Deep Research (–≤–µ–± + AI) |
| `!translate <text>` | –ü–µ—Ä–µ–≤–æ–¥ (–∞–≤—Ç–æ-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞) |
| `!say <text>` | Text-to-Speech (Milena) |
| `!news <topic>` | –°–≤–æ–¥–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π |
| **–°–∏—Å—Ç–µ–º–∞** | |
| `!status` | –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º |
| `!diagnose` | –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ |
| `!config` | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–≥–æ—Ä—è—á–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞) |
| `!help` | –°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ |
| `!logs` | –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –ª–æ–≥–∞ |
| `!sh <cmd>` | Shell-–∫–æ–º–∞–Ω–¥–∞ (Owner) |
| `!commit <msg>` | Git push (Owner) |
| `!panic` | Stealth Mode (Owner) |
| **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ** | |
| `!remind <time> <text>` | –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ |
| `!timer <time>` | –¢–∞–π–º–µ—Ä |
| `!see [–≤–æ–ø—Ä–æ—Å]` | Screen Awareness |
| `!mac <cmd>` | macOS Bridge |
| **–ü–µ—Ä—Å–æ–Ω—ã** | |
| `!personality <role>` | –°–º–µ–Ω–∏—Ç—å –ª–∏—á–Ω–æ—Å—Ç—å |
| `!summary` | –†–µ–∑—é–º–µ –ø–µ—Ä–µ–ø–∏—Å–∫–∏ |
| `!rag stats/clean/export` | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ RAG |

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (v6.0 Modular)

```
Krab/
‚îú‚îÄ‚îÄ start_server_mode.command # üê≥ Docker Launcher
‚îú‚îÄ‚îÄ start_god_mode.command    # üåå Native Launcher (macOS)
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main.py              # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä (220 —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îú‚îÄ‚îÄ handlers/            # üÜï –ú–æ–¥—É–ª—å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py      # register_all_handlers()
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.py          # –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ commands.py      # !status, !diagnose, !config, !help, !logs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ai.py            # !think, !smart, !code, !learn, !exec
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ media.py         # –§–æ—Ç–æ, –≤–∏–¥–µ–æ, –∞—É–¥–∏–æ, –¥–æ–∫—É–º–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tools.py         # !scout, !translate, !say, !news
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ system.py        # !sh, !commit, !sysinfo, !panic
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ scheduling.py    # !remind, !timer, !see
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ mac.py           # !mac (macOS Bridge)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ rag.py           # !rag (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ persona.py       # !personality, !summary
‚îÇ   ‚îú‚îÄ‚îÄ core/                # –Ø–¥—Ä–æ (18 –º–æ–¥—É–ª–µ–π)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ model_manager.py # Router: Local ‚Üî Cloud AI
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ rag_engine.py    # ChromaDB RAG
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ swarm.py         # Phase 10: Swarm Intelligence
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ security_manager.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config_manager.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îî‚îÄ‚îÄ modules/
‚îÇ       ‚îî‚îÄ‚îÄ perceptor.py     # Vision + Audio (STT/TTS)
‚îú‚îÄ‚îÄ tests/                   # Pytest —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ config/                  # YAML –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ .env                     # API –∫–ª—é—á–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```

## üõ° –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç **—Ç–æ–ª—å–∫–æ** –≤–ª–∞–¥–µ–ª—å—Ü—É –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏–∑ `ALLOWED_USERS`.
- –ö–æ–º–∞–Ω–¥—ã `!exec`, `!sh`, `!panic` –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ Owner.
- Stealth Mode (`!panic`) ‚Äî –º–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥.
- –¢–æ–∫–µ–Ω—ã –≤ `.env`, –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –ª–æ–≥–∏ –∏ Git.

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (.env)

```bash
# Telegram
TELEGRAM_API_ID=your_api_id
TELEGRAM_API_HASH=your_api_hash
TELEGRAM_SESSION_NAME=krab_v6_session
OWNER_USERNAME=your_username
ALLOWED_USERS=user1,user2

# AI Models (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ, –±–µ–∑ —Ö–∞—Ä–¥–∫–æ–¥–æ–≤)
GEMINI_API_KEY=your_key
GEMINI_CHAT_MODEL=gemini-2.0-flash
GEMINI_THINKING_MODEL=gemini-2.0-flash-thinking-exp
GEMINI_PRO_MODEL=gemini-2.0-pro-exp
GEMINI_VISION_MODEL=gemini-2.0-flash

# Local AI
LM_STUDIO_URL=http://localhost:1234/v1
WHISPER_MODEL=mlx-community/whisper-large-v3-turbo
LOCAL_VISION_ENABLED=0
LOCAL_VISION_MODEL=
LOCAL_VISION_TIMEOUT_SECONDS=90
LOCAL_VISION_MAX_TOKENS=1200

# OpenClaw
OPENCLAW_BASE_URL=http://127.0.0.1:18789
OPENCLAW_API_KEY=sk-...
OPENCLAW_REQUIRED_AUTH_PROVIDERS=openai-codex,google-gemini-cli,qwen-portal-auth

# Web API write protection
WEB_API_KEY=your_secure_key
WEB_ASSISTANT_RATE_LIMIT_PER_MIN=30
```

---

**Developed with ü¶Ä by Antigravity (Ralph Mode).**
