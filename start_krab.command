#!/bin/zsh
# ============================================================
# ü¶Ä Krab v7.0 ‚Äî –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
# –ü—Ä–æ—Å—Ç–æ –¥–≤–∞–∂–¥—ã –∫–ª–∏–∫–Ω–∏ –ø–æ —ç—Ç–æ–º—É —Ñ–∞–π–ª—É –Ω–∞ macOS
# ============================================================

cd "$(dirname "$0")"
echo "ü¶Ä Krab v7.0 ‚Äî Starting..."
echo "üìÅ Directory: $(pwd)"
echo ""

# –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
source .venv/bin/activate

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ .env
if [ ! -f .env ]; then
    echo "‚ùå –§–∞–π–ª .env –Ω–µ –Ω–∞–π–¥–µ–Ω! –°–∫–æ–ø–∏—Ä—É–π .env.example –∏ –Ω–∞—Å—Ç—Ä–æ–π."
    read -p "–ù–∞–∂–º–∏ Enter –¥–ª—è –≤—ã—Ö–æ–¥–∞..."
    exit 1
fi

echo "‚úÖ –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ"
echo "üöÄ –ó–∞–ø—É—Å–∫–∞—é –±–æ—Ç–∞..."
echo ""

# –ó–∞–ø—É—Å–∫–∞–µ–º –±–æ—Ç–∞ (–ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ Pyrogram –ø–æ–ø—Ä–æ—Å–∏—Ç —Ç–µ–ª–µ—Ñ–æ–Ω)
python -m src.main

# –ï—Å–ª–∏ –±–æ—Ç —É–ø–∞–ª ‚Äî –∂–¥—ë–º –Ω–∞–∂–∞—Ç–∏—è –∫–ª–∞–≤–∏—à–∏
echo ""
echo "‚ö†Ô∏è –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω. –ù–∞–∂–º–∏ Enter –¥–ª—è –≤—ã—Ö–æ–¥–∞..."
read